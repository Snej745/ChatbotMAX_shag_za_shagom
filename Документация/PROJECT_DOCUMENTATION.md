# Telegram Dependency Counseling Bot - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤)
5. [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
6. [Conversation Flow](#conversation-flow)
7. [MAX API Integration](#max-api-integration)
8. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
9. [–ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è](#–Ω–∞–≤–∏–≥–∞—Ü–∏—è-–∏-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
10. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
11. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)

---

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**–ù–∞–∑–≤–∞–Ω–∏–µ**: –ë–æ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è –ª—é–¥–µ–π —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: MAX Messenger (–†–æ—Å—Å–∏–π—Å–∫–∏–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –æ—Ç HiHub)  
**–¢–∏–ø**: –ß–∞—Ç-–±–æ—Ç –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏  
**–í–µ—Ä—Å–∏—è**: 2.0.0  
**Python**: 3.9+  

### –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—É—é –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –ø–æ–º–æ—â—å –ª—é–¥—è–º, —Å—Ç–æ–ª–∫–Ω—É–≤—à–∏–º—Å—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∏–¥–∞–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
- –ê–ª–∫–æ–≥–æ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- –ù–∞—Ä–∫–æ—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- –ò–≥—Ä–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- –ü–∏—â–µ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- –ù–∏–∫–æ—Ç–∏–Ω–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- –°–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- –õ—é–±–æ–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- –¢—Ä—É–¥–æ–≥–æ–ª–∏–∑–º
- –ò –¥—Ä—É–≥–∏–µ –≤–∏–¥—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ü–æ–¥–±–æ—Ä –≥—Ä—É–ø–ø –ø–æ–¥–¥–µ—Ä–∂–∫–∏** - –±–∞–∑–∞ —Å—Å—ã–ª–æ–∫ –¥–ª—è 25 –≥–æ—Ä–æ–¥–æ–≤ –†–æ—Å—Å–∏–∏  
‚úÖ **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞** - –ø–æ–¥–±–æ—Ä –ø–æ –ø–æ–ª—É –∏ –≤–æ–∑—Ä–∞—Å—Ç—É  
‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã** - –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö  
‚úÖ **–ê–Ω–æ–Ω–∏–º–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∞–Ω–æ–Ω–∏–º–Ω–æ  
‚úÖ **FAQ –∏ –≤–µ–±–∏–Ω–∞—Ä—ã** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è  
‚úÖ **–ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å** - –∞–Ω–æ–Ω–∏–º–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ  

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

```
Python 3.9+
‚îú‚îÄ‚îÄ python-telegram-bot 22.5  (–±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
‚îú‚îÄ‚îÄ aiohttp 3.13.2           (HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è MAX API)
‚îî‚îÄ‚îÄ python-dotenv 1.0.0      (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π)
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Adapter Pattern** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è Telegram Bot API –∫ MAX API
2. **State Pattern** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –¥–∏–∞–ª–æ–≥–∞
3. **Proxy Pattern** - –ø—Ä–æ–∫—Å–∏ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ callback –∑–∞–ø—Ä–æ—Å–æ–≤
4. **Strategy Pattern** - —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∏–ø–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

```
MAX Messenger
     ‚Üì
MAX API (platform-api.max.ru)
     ‚Üì
MaxBot (HTTP Client)
     ‚Üì
MaxUpdateProxy ‚Üí Routing
     ‚Üì
BotHandlers (State Machine)
     ‚Üì
ConversationFlow (UI)
     ‚Üì
Response ‚Üí MaxBot ‚Üí MAX API
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository_url>
cd "Chat bot MAX"
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
BOT_TOKEN=f9LHodD0cOJb2_z16WWFRPh9OfN5JALUynWJFfMV2J-vQwGE_guoBzcpm8F7Po3Gk6hc6QvXjx36UiaABmGp
MAX_API_BASE_URL=https://platform-api.max.ru
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

**Windows:**
```bash
python main_max.py
# –∏–ª–∏
run_max_bot.bat
```

**Linux/Mac:**
```bash
python3 main_max.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
INFO - Starting MAX Dependency Counseling Bot...
INFO - Bot started: @t38_hakaton_bot
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Chat bot MAX/
‚îÇ
‚îú‚îÄ‚îÄ main_max.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (MAX –≤–µ—Ä—Å–∏—è)
‚îú‚îÄ‚îÄ config.py                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env                        # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ .env.example                # –ü—Ä–∏–º–µ—Ä .env
‚îÇ
‚îú‚îÄ‚îÄ bot/                        # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ max_adapter.py          # –ê–¥–∞–ø—Ç–µ—Ä MAX API
‚îÇ   ‚îú‚îÄ‚îÄ handlers.py             # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ conversation_flow.py    # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä
‚îÇ   ‚îú‚îÄ‚îÄ dependency_links.py     # –ë–∞–∑–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –≥—Ä—É–ø–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ states.py               # –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ utils.py                # –£—Ç–∏–ª–∏—Ç—ã (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îÇ
‚îú‚îÄ‚îÄ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.txt             # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–æ–∫
‚îÇ
‚îî‚îÄ‚îÄ docs/                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Å–æ–∑–¥–∞–≤–∞–µ–º–∞—è)
    ‚îú‚îÄ‚îÄ PROJECT_DOCUMENTATION.md
    ‚îú‚îÄ‚îÄ MAX_SETUP_COMPLETE.md
    ‚îú‚îÄ‚îÄ QUICKSTART_MAX.md
    ‚îî‚îÄ‚îÄ TESTING_RESULTS.md
```

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. MaxBot (bot/max_adapter.py)

**–ö–ª–∞—Å—Å**: `MaxBot`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å MAX API

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
```python
async def get_updates(marker: str = None, timeout: int = 30)
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å long polling
    
async def send_message(chat_id: int, text: str, reply_markup: Dict = None)
    # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    
async def edit_message(chat_id: int, message_id: int, text: str, reply_markup: Dict = None)
    # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    
async def answer_callback_query(callback_id: str)
    # –û—Ç–≤–µ—Ç –Ω–∞ callback –æ—Ç inline –∫–Ω–æ–ø–æ–∫
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- Long polling —Å marker-based –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è retry –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- Timestamp —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä

### 2. MaxUpdate (bot/max_adapter.py)

**–ö–ª–∞—Å—Å**: `MaxUpdate`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç MAX API

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```python
class MaxUpdate:
    update_id: int              # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    message: Dict               # –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
    callback_query: Dict        # Callback –æ—Ç –∫–Ω–æ–ø–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
    update_type: str            # –¢–∏–ø: message_created, message_callback, bot_started
    timestamp: int              # –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
    raw_data: Dict              # –ü–æ–ª–Ω—ã–µ —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
    
    @property
    def effective_user(self)    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
    
    @property
    def effective_chat(self)    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–∞—Ç–µ
```

**–¢–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**:
- `message_created` - –Ω–æ–≤–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- `message_callback` - –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ inline –∫–Ω–æ–ø–∫—É
- `bot_started` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ –±–æ—Ç—É
- `bot_stopped` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª—é—á–∏–ª—Å—è (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)
- `message_edited` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)
- `message_deleted` - —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)

### 3. BotHandlers (bot/handlers.py)

**–ö–ª–∞—Å—Å**: `BotHandlers`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–∏–∞–ª–æ–≥–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
```python
async def start()                           # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
async def handle_dependency_selection()     # –í—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
async def handle_timezone_selection()       # –í—ã–±–æ—Ä —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
async def handle_city_selection()           # –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞
async def handle_help_type()                # –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–º–æ—â–∏
async def handle_gender_selection()         # –í—ã–±–æ—Ä –ø–æ–ª–∞ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
async def handle_age_user()                 # –í–æ–∑—Ä–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
async def handle_literature_choice()        # –í—ã–±–æ—Ä –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã
async def handle_support_choice()           # –í—ã–±–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∫–∏
async def handle_discovery_question()       # –í–æ–ø—Ä–æ—Å –æ–± –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã
async def handle_anonymous_question()       # –ê–Ω–æ–Ω–∏–º–Ω—ã–π –≤–æ–ø—Ä–æ—Å
```

**–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏** (—Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑ –ª—é–±–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è):
```python
back_to_dependency      # –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
back_to_timezones       # –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —á–∞—Å–æ–≤—ã–º –ø–æ—è—Å–∞–º
back_to_city            # –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É –≥–æ—Ä–æ–¥–∞
back_to_help            # –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É –ø–æ–º–æ—â–∏
restart_conversation    # –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
final_faq               # FAQ
final_webinars          # –í–µ–±–∏–Ω–∞—Ä—ã
```

### 4. ConversationFlow (bot/conversation_flow.py)

**–ö–ª–∞—Å—Å**: `ConversationFlow`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

**–î–∞–Ω–Ω—ã–µ**:
```python
dependency_types = {
    'alcohol': '–ê–ª–∫–æ–≥–æ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
    'drugs': '–ù–∞—Ä–∫–æ—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
    'gaming': '–ò–≥—Ä–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
    'food': '–ü–∏—â–µ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
    'internet': '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
    'nicotine': '–ù–∏–∫–æ—Ç–∏–Ω–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
    'codependency': '–°–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
    'vad': '–í–°–î/–ü–ê',
    'love': '–õ—é–±–æ–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
    'workaholism': '–¢—Ä—É–¥–æ–≥–æ–ª–∏–∑–º',
    'vr': '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è'
}

time_zones = {
    'msk-2': '–ú–°–ö-2 (–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥)',
    'msk': '–ú–°–ö (–ú–æ—Å–∫–≤–∞)',
    'msk+1': '–ú–°–ö+1 (–°–∞–º–∞—Ä–∞)',
    # ... –∏ —Ç.–¥. (11 –ø–æ—è—Å–æ–≤)
}

cities_by_timezone = {
    'msk': {
        'moscow': '–ú–æ—Å–∫–≤–∞',
        'spb': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
        # ... –∏ —Ç.–¥.
    }
    # ... –≤—Å–µ–≥–æ 25 –≥–æ—Ä–æ–¥–æ–≤
}
```

**–ú–µ—Ç–æ–¥—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä**:
```python
get_dependency_keyboard()       # –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –≤—ã–±–æ—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
get_time_zone_keyboard()        # –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤
get_city_keyboard(timezone)     # –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è –ø–æ—è—Å–∞
get_help_type_keyboard()        # –¢–∏–ø—ã –ø–æ–º–æ—â–∏
get_gender_keyboard()           # –í—ã–±–æ—Ä –ø–æ–ª–∞ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
get_age_keyboard()              # –í—ã–±–æ—Ä –≤–æ–∑—Ä–∞—Å—Ç–∞
get_literature_keyboard()       # –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞
get_support_keyboard()          # –ì—Ä—É–ø–ø—ã/—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç
```

### 5. DependencyLinks (bot/dependency_links.py)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: `DEPENDENCY_LINKS` - —Å–ª–æ–≤–∞—Ä—å —Å —Å—Å—ã–ª–∫–∞–º–∏

**–§–æ—Ä–º–∞—Ç**:
```python
DEPENDENCY_LINKS = {
    'moscow': {
        'alcohol': 'https://example.com/moscow/alcohol',
        'drugs': 'https://example.com/moscow/drugs',
        # ... –≤—Å–µ 11 —Ç–∏–ø–æ–≤
    },
    'spb': {
        'alcohol': 'https://example.com/spb/alcohol',
        # ... –∏ —Ç.–¥.
    }
    # ... –≤—Å–µ–≥–æ 25 –≥–æ—Ä–æ–¥–æ–≤
}
```

**–§—É–Ω–∫—Ü–∏—è**:
```python
def get_dependency_link(city: str, dependency: str) -> Optional[str]:
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –≥—Ä—É–ø–ø—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏
    
    Args:
        city: –ö–æ–¥ –≥–æ—Ä–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'moscow')
        dependency: –ö–æ–¥ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'alcohol')
    
    Returns:
        URL —Å—Å—ã–ª–∫–∏ –∏–ª–∏ None –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
    """
```

---

## Conversation Flow

### –°—Ö–µ–º–∞ –¥–∏–∞–ª–æ–≥–∞

```
START (bot_started / message)
   ‚Üì
DEPENDENCY_SELECTION (–≤—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
   ‚Üì
TIME_ZONE_SELECTION (–≤—ã–±–æ—Ä —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞)
   ‚Üì
CITY_SELECTION (–≤—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞)
   ‚Üì
HELP_TYPE (–≤—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ–º–æ—â–∏)
   ‚îú‚Üí groups_selection ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –≥—Ä—É–ø–ø—ã
   ‚îú‚Üí specialist ‚Üí GENDER_PREFERENCE ‚Üí AGE_USER ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
   ‚îî‚Üí literature ‚Üí LITERATURE_CHOICE ‚Üí –º–∞—Ç–µ—Ä–∏–∞–ª—ã
   ‚Üì
HELP_CHOICE (–≥—Ä—É–ø–ø—ã / —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç / –æ–±–∞ / –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)
   ‚îú‚Üí support_group ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –≥—Ä—É–ø–ø—ã ‚Üí ONLINE_OFFLINE_GROUPS
   ‚îú‚Üí specialist ‚Üí GENDER_PREFERENCE ‚Üí AGE_USER ‚Üí SPECIALIST_CONSULTATION
   ‚îú‚Üí both ‚Üí —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç ‚Üí GENDER_PREFERENCE ‚Üí AGE_USER ‚Üí SPECIALIST_CONSULTATION
   ‚îî‚Üí none ‚Üí DISCOVERY_QUESTION
   ‚Üì
DISCOVERY_QUESTION (–≥–æ—Ç–æ–≤—ã –æ—Ç–∫—Ä—ã—Ç—å—Å—è –±–ª–∏–∑–∫–∏–º?)
   ‚îú‚Üí yes ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é ‚Üí ANONYMOUS_QUESTION
   ‚îî‚Üí no ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é ‚Üí ANONYMOUS_QUESTION
   ‚Üì
ANONYMOUS_QUESTION (–µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å?)
   ‚îú‚Üí yes ‚Üí –≤–≤–µ—Å—Ç–∏ –≤–æ–ø—Ä–æ—Å ‚Üí TEXT_INPUT ‚Üí FINAL_MENU
   ‚îî‚Üí no ‚Üí FINAL_MENU
   ‚Üì
FINAL_MENU (FAQ / –í–µ–±–∏–Ω–∞—Ä—ã / –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ)
```

### –î–µ—Ç–∞–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π

#### 1. START
- **Trigger**: bot_started —Å–æ–±—ã—Ç–∏–µ –∏–ª–∏ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°–æ–æ–±—â–µ–Ω–∏–µ**: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Ü–µ–ª–µ–π –±–æ—Ç–∞
- **–ö–Ω–æ–ø–∫–∏**: 11 —Ç–∏–ø–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: DEPENDENCY_SELECTION

#### 2. DEPENDENCY_SELECTION
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_dependency_selection`
- **Callback**: `dep_<type>`
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**: `context.user_data['preferences']['dependency']`
- **–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"**: –ù–µ—Ç (–Ω–∞—á–∞–ª–æ –¥–∏–∞–ª–æ–≥–∞)
- **–°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: TIME_ZONE_SELECTION

#### 3. TIME_ZONE_SELECTION
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_timezone_selection`
- **Callback**: `timezone_<zone>`
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**: `context.user_data['preferences']['timezone']`
- **–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"**: `back_to_dependency`
- **–°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: CITY_SELECTION

#### 4. CITY_SELECTION
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_city_selection`
- **Callback**: `city_<city>`
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**: `context.user_data['preferences']['city']`
- **–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"**: `back_to_timezones`
- **–°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: HELP_TYPE

#### 5. HELP_TYPE
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_help_type`
- **Callback**: `groups_selection`, `specialist`, `literature`
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**:
  - **–ì—Ä—É–ø–ø—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏** ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫–∏ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ HELP_TYPE
  - **–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç** ‚Üí GENDER_PREFERENCE
  - **–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞** ‚Üí LITERATURE_CHOICE
- **–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"**: `back_to_city`

#### 6. GENDER_PREFERENCE
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_gender_selection`
- **Callback**: `gender_male`, `gender_female`, `gender_any`
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**: `context.user_data['preferences']['gender']`
- **–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"**: `back_from_gender` ‚Üí HELP_TYPE
- **–°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: AGE_USER

#### 7. AGE_USER
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_age_user`
- **Callback**: `ageu_young`, `ageu_middle`, `ageu_senior`, `ageu_any`
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**: `context.user_data['preferences']['age_user']`
- **–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"**: `back_to_gender`
- **–°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: SPECIALIST_CONSULTATION

#### 8. LITERATURE_CHOICE
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_literature_choice`
- **Callback**: `lit_<topic>`, `yes_<action>`, `back_to_help`
- **–í–∞—Ä–∏–∞–Ω—Ç—ã –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã**:
  - –ê–ª–∫–æ–≥–æ–ª–∏–∑–º
  - –ù–∞—Ä–∫–æ–º–∞–Ω–∏—è
  - –ò–≥—Ä–æ–º–∞–Ω–∏—è
  - –ü–∏—â–µ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
  - –°–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- **–°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: HELP_CHOICE

#### 9. HELP_CHOICE
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_support_choice`
- **Callback**: `support_group`, `specialist`, `both`, `none`
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**:
  - –ì—Ä—É–ø–ø–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ‚Üí ONLINE_OFFLINE_GROUPS
  - –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç ‚Üí GENDER_PREFERENCE
  - –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ ‚Üí GENDER_PREFERENCE
  - –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å ‚Üí DISCOVERY_QUESTION

#### 10. DISCOVERY_QUESTION
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_discovery_question`
- **Callback**: `yes_discovery`, `no_discovery`
- **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã –±–ª–∏–∑–∫–∏–º
- **–°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: ANONYMOUS_QUESTION

#### 11. ANONYMOUS_QUESTION
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_anonymous_question_choice`
- **Callback**: `yes_anonymous`, `no_anonymous`
- **–ï—Å–ª–∏ "–î–∞"**: TEXT_INPUT –¥–ª—è –≤–≤–æ–¥–∞ –≤–æ–ø—Ä–æ—Å–∞
- **–ï—Å–ª–∏ "–ù–µ—Ç"**: FINAL_MENU

#### 12. TEXT_INPUT
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_text_input`
- **–¢–∏–ø**: –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- **–î–µ–π—Å—Ç–≤–∏–µ**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
- **–°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: FINAL_MENU

#### 13. FINAL_MENU
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫**: `handle_final_faq`, `handle_final_webinars`, `handle_restart_conversation`
- **Callback**: `final_faq`, `final_webinars`, `restart_conversation`
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**:
  - FAQ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ FINAL_MENU
  - –í–µ–±–∏–Ω–∞—Ä—ã ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ–±–∏–Ω–∞—Ä–∞—Ö ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ FINAL_MENU
  - –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ ‚Üí START

---

## MAX API Integration

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ MAX API

**–ë–∞–∑–æ–≤—ã–π URL**: `https://platform-api.max.ru`

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: 
```python
headers = {
    'Authorization': f'{BOT_TOKEN}',
    'Content-Type': 'application/json'
}
```

### Endpoints

#### 1. GET /bot/v1/updates
–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (long polling)

**Query Parameters**:
```
marker: str (optional) - ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
timeout: int (optional) - –¢–∞–π–º–∞—É—Ç long polling –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–º–∞–∫—Å 30)
```

**Response**:
```json
{
  "updates": [
    {
      "update_id": 1762864187199,
      "update_type": "message_created",
      "timestamp": 1762864187199,
      "chat_id": 29266258,
      "user_id": 100371934,
      "message": {
        "message_id": 123456,
        "sender": {
          "user_id": 100371934,
          "first_name": "–†–æ–º–∞–Ω",
          "last_name": "–°—É—Ä–º–∞—á",
          "username": null,
          "is_bot": false
        },
        "recipient": {
          "chat_id": 29266258,
          "chat_type": "dialog"
        },
        "body": {
          "text": "–ü—Ä–∏–≤–µ—Ç",
          "mid": "msg_123"
        }
      }
    }
  ],
  "marker": "next_marker_string"
}
```

#### 2. POST /bot/v1/messages/send
–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

**Body**:
```json
{
  "chat_id": 29266258,
  "text": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
  "attachments": {
    "inline_keyboard": [
      [
        {
          "text": "–ö–Ω–æ–ø–∫–∞",
          "callback_data": "button_callback"
        }
      ]
    ]
  }
}
```

**Response**:
```json
{
  "message_id": 123457
}
```

#### 3. POST /bot/v1/messages/edit
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**Body**:
```json
{
  "chat_id": 29266258,
  "message_id": 123457,
  "text": "–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç",
  "attachments": {
    "inline_keyboard": [...]
  }
}
```

#### 4. POST /bot/v1/callbacks/answer
–û—Ç–≤–µ—Ç –Ω–∞ callback query

**Body**:
```json
{
  "callback_id": "callback_unique_id"
}
```

### –¢–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

#### message_created
–ù–æ–≤–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```json
{
  "update_type": "message_created",
  "message": {
    "sender": {...},
    "recipient": {...},
    "body": {
      "text": "..."
    }
  }
}
```

#### message_callback
–ù–∞–∂–∞—Ç–∏–µ –Ω–∞ inline –∫–Ω–æ–ø–∫—É

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```json
{
  "update_type": "message_callback",
  "callback": {
    "callback_id": "unique_id",
    "payload": "button_callback_data",
    "user": {...}
  },
  "message": {
    "recipient": {
      "chat_id": 123
    }
  }
}
```

#### bot_started
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ –±–æ—Ç—É

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```json
{
  "update_type": "bot_started",
  "chat_id": 29266258,
  "user": {
    "user_id": 100371934,
    "first_name": "–†–æ–º–∞–Ω",
    "last_name": "–°—É—Ä–º–∞—á"
  }
}
```

### Long Polling —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```python
class MaxBot:
    def __init__(self, token: str, base_url: str):
        self.token = token
        self.base_url = base_url
        self.session = aiohttp.ClientSession(...)
        self.last_marker = None
        self.last_update_id = 0  # –î–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
    
    async def get_updates(self, timeout: int = 30):
        params = {'timeout': timeout}
        if self.last_marker:
            params['marker'] = self.last_marker
        
        response = await self.session.get(
            f'{self.base_url}/bot/v1/updates',
            params=params,
            timeout=aiohttp.ClientTimeout(total=timeout + 10)
        )
        
        data = await response.json()
        updates = []
        
        for update_data in data.get('updates', []):
            timestamp = update_data.get('timestamp')
            
            # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
            if timestamp and timestamp <= self.last_update_id:
                continue
            
            self.last_update_id = max(self.last_update_id, timestamp or 0)
            
            # –°–æ–∑–¥–∞–Ω–∏–µ MaxUpdate –æ–±—ä–µ–∫—Ç–∞
            update = self._parse_update(update_data)
            updates.append(update)
        
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ marker –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
        self.last_marker = data.get('marker')
        
        return updates
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

```python
try:
    response = await self.session.post(url, json=body)
    response.raise_for_status()
    return await response.json()
except aiohttp.ClientError as e:
    logger.error(f"API Error: {e}")
    # Retry logic
except asyncio.TimeoutError:
    logger.warning("API Timeout")
    # Retry logic
```

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ DEPENDENCY_LINKS

–ü–æ–ª–Ω–∞—è –±–∞–∑–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- **25 –≥–æ—Ä–æ–¥–æ–≤** –†–æ—Å—Å–∏–∏
- **11 —Ç–∏–ø–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
- **275 —Å—Å—ã–ª–æ–∫** –Ω–∞ –≥—Ä—É–ø–ø—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –ì–æ—Ä–æ–¥–∞ (25)

**–ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è —á–∞—Å—Ç—å**:
- –ú–æ—Å–∫–≤–∞ (moscow)
- –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (spb)
- –í–æ—Ä–æ–Ω–µ–∂ (voronezh)
- –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä (krasnodar)
- –ö–∞–∑–∞–Ω—å (kazan)
- –°–∞–º–∞—Ä–∞ (samara)
- –ò–∂–µ–≤—Å–∫ (izhevsk)
- –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥ (kaliningrad)

**–£—Ä–∞–ª**:
- –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ (ekaterinburg)
- –ß–µ–ª—è–±–∏–Ω—Å–∫ (chelyabinsk)

**–°–∏–±–∏—Ä—å**:
- –û–º—Å–∫ (omsk)
- –ë–∞—Ä–Ω–∞—É–ª (barnaul)
- –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ (novosibirsk)
- –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ (krasnoyarsk)
- –ò—Ä–∫—É—Ç—Å–∫ (irkutsk)

**–î–∞–ª—å–Ω–∏–π –í–æ—Å—Ç–æ–∫**:
- –£–ª–∞–Ω-–£–¥—ç (ulan_ude)
- –Ø–∫—É—Ç—Å–∫ (yakutsk)
- –ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫ (blagoveshchensk)
- –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫ (vladivostok)
- –•–∞–±–∞—Ä–æ–≤—Å–∫ (khabarovsk)
- –ú–∞–≥–∞–¥–∞–Ω (magadan)
- –Æ–∂–Ω–æ-–°–∞—Ö–∞–ª–∏–Ω—Å–∫ (yuzhno_sakhalinsk)
- –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫-–ö–∞–º—á–∞—Ç—Å–∫–∏–π (petropavlovsk)
- –ê–Ω–∞–¥—ã—Ä—å (anadyr)

### –¢–∏–ø—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (11)

1. **alcohol** - –ê–ª–∫–æ–≥–æ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
2. **drugs** - –ù–∞—Ä–∫–æ—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
3. **gaming** - –ò–≥—Ä–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
4. **food** - –ü–∏—â–µ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
5. **internet** - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
6. **nicotine** - –ù–∏–∫–æ—Ç–∏–Ω–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
7. **codependency** - –°–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
8. **vad** - –í–°–î/–ü–ê –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
9. **love** - –õ—é–±–æ–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
10. **workaholism** - –¢—Ä—É–¥–æ–≥–æ–ª–∏–∑–º
11. **vr** - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è (None - –¥–∞–Ω–Ω—ã–µ –ø–æ—è–≤—è—Ç—Å—è –ø–æ–∑–∂–µ)

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from bot.dependency_links import get_dependency_link

# –ü–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –ú–æ—Å–∫–≤—ã –∏ –∞–ª–∫–æ–≥–æ–ª—å–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
link = get_dependency_link('moscow', 'alcohol')
print(link)  # https://example.com/moscow/alcohol

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ None
if link:
    message = f"–°—Å—ã–ª–∫–∞: {link}"
else:
    message = "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ"
```

---

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### BotStates Enum

```python
class BotStates(Enum):
    DEPENDENCY_SELECTION = "dependency_selection"
    TIME_ZONE_SELECTION = "time_zone_selection"
    CITY_SELECTION = "city_selection"
    HELP_TYPE = "help_type"
    GENDER_PREFERENCE = "gender_preference"
    AGE_USER = "age_user"
    LITERATURE_CHOICE = "literature_choice"
    HELP_CHOICE = "help_choice"
    ONLINE_OFFLINE_GROUPS = "online_offline_groups"
    SPECIALIST_CONSULTATION = "specialist_consultation"
    DISCOVERY_QUESTION = "discovery_question"
    ANONYMOUS_QUESTION = "anonymous_question"
    TEXT_INPUT = "text_input"
    FINAL_MENU = "final_menu"
```

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```python
global_handlers = {
    'continue_to_discovery': self.bot_handlers.handle_continue_to_discovery,
    'choose_support': self.bot_handlers.handle_choose_support,
    'choose_literature': self.bot_handlers.handle_choose_literature,
    'skip_both': self.bot_handlers.handle_skip_both,
    'continue_after_info': self.bot_handlers.handle_continue_after_info,
    'continue_after_literature': self.bot_handlers.handle_continue_after_literature,
    'restart_conversation': self.bot_handlers.handle_restart_conversation,
    'back_to_final': self.bot_handlers.handle_back_to_final,
    'back_to_help': self.bot_handlers.handle_back_to_help,
    'back_to_city': self.bot_handlers.back_to_city,
    'back_to_timezones': self.bot_handlers.back_to_timezones,
    'back_to_dependency': self.bot_handlers.back_to_dependency,
    'final_faq': self.bot_handlers.handle_final_faq,
    'final_webinars': self.bot_handlers.handle_final_webinars,
}
```

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

```python
async def handle_callback_query(self, update, context):
    callback_data = update.callback_query.data
    user_id = update.effective_user.get('id')
    current_state = self.user_states.get(user_id)
    
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
    if callback_data in global_handlers:
        return await global_handlers[callback_data](update, context)
    
    # 2. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é
    handlers_map = {
        BotStates.DEPENDENCY_SELECTION.value: self.bot_handlers.handle_dependency_selection,
        BotStates.TIME_ZONE_SELECTION.value: self.bot_handlers.handle_timezone_selection,
        # ... –∏ —Ç.–¥.
    }
    
    if current_state in handlers_map:
        handler = handlers_map[current_state]
        new_state = await handler(update, context)
        self.user_states[user_id] = new_state
```

### User Context

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `context.user_data`:
```python
{
    'preferences': {
        'dependency': 'alcohol',
        'timezone': 'msk',
        'city': 'moscow',
        'gender': 'any',
        'age_user': 'middle',
        'consultation_type': 'specialist',
        'sos_choice': 'support_group',
        'discovery_answer': 'yes'
    },
    'current_state': 'final_menu',
    'anonymous_question': '–ú–æ–π –≤–æ–ø—Ä–æ—Å...'
}
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```python
import logging

logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
```

**–£—Ä–æ–≤–Ω–∏**:
- `DEBUG` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `INFO` - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–µ
- `WARNING` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
- `ERROR` - –æ—à–∏–±–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è
- `CRITICAL` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

### Try-Catch –æ–±–µ—Ä—Ç–∫–∏

```python
async def handle_dependency_selection(self, update, context):
    try:
        query = update.callback_query
        await query.answer()
        
        # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
        # ...
        
        return BotStates.TIME_ZONE_SELECTION.value
        
    except Exception as e:
        logger.error(f"Error in handle_dependency_selection: {e}", exc_info=True)
        await query.answer("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")
        return current_state
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ API –æ—à–∏–±–æ–∫

```python
try:
    response = await self.bot.send_message(chat_id, text, reply_markup)
except aiohttp.ClientError as e:
    logger.error(f"Failed to send message: {e}")
    # Fallback –¥–µ–π—Å—Ç–≤–∏–µ
except asyncio.TimeoutError:
    logger.warning("Message send timeout")
    # Retry logic
```

### Graceful Shutdown

```python
async def run(self):
    try:
        while True:
            updates = await self.bot.get_updates(timeout=30)
            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
            
    except KeyboardInterrupt:
        logger.info("Shutting down bot...")
    finally:
        await self.bot.close()
```

---

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone <repo_url>
cd "Chat bot MAX"

# 2. –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Å —Ç–æ–∫–µ–Ω–æ–º

# 5. –ó–∞–ø—É—Å–∫
python main_max.py
```

### Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

**Dockerfile**:
```dockerfile
FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["python", "main_max.py"]
```

**docker-compose.yml**:
```yaml
version: '3.8'

services:
  bot:
    build: .
    env_file:
      - .env
    restart: unless-stopped
    volumes:
      - ./bot.log:/app/bot.log
```

**–ó–∞–ø—É—Å–∫**:
```bash
docker-compose up -d
```

### Systemd —Å–µ—Ä–≤–∏—Å (Linux)

**/etc/systemd/system/maxbot.service**:
```ini
[Unit]
Description=MAX Dependency Counseling Bot
After=network.target

[Service]
Type=simple
User=botuser
WorkingDirectory=/opt/maxbot
ExecStart=/opt/maxbot/venv/bin/python main_max.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

**–ö–æ–º–∞–Ω–¥—ã**:
```bash
sudo systemctl enable maxbot
sudo systemctl start maxbot
sudo systemctl status maxbot
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**:
```python
# bot/utils.py
def setup_logging(level=logging.INFO):
    logging.basicConfig(
        level=level,
        format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
        handlers=[
            logging.FileHandler('bot.log'),
            logging.StreamHandler()
        ]
    )
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è**:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
tail -f bot.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
ps aux | grep main_max.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
netstat -an | grep 443
```

---

## FAQ

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?

1. –î–æ–±–∞–≤–∏—Ç—å –≤ `conversation_flow.py`:
```python
dependency_types = {
    # ...
    'new_type': '–ù–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å'
}
```

2. –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –≤ `dependency_links.py`:
```python
DEPENDENCY_LINKS = {
    'moscow': {
        # ...
        'new_type': 'https://...'
    }
}
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –≥–æ—Ä–æ–¥?

1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –≥–æ—Ä–æ–¥–∞

2. –î–æ–±–∞–≤–∏—Ç—å –≤ `conversation_flow.py`:
```python
cities_by_timezone = {
    'msk': {
        # ...
        'new_city': '–ù–æ–≤—ã–π –ì–æ—Ä–æ–¥'
    }
}
```

3. –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –≤ `dependency_links.py`:
```python
DEPENDENCY_LINKS = {
    # ...
    'new_city': {
        'alcohol': 'https://...',
        # ... –≤—Å–µ —Ç–∏–ø—ã
    }
}
```

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è?

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `start()` –≤ `bot/handlers.py`:
```python
async def start(self, update, context):
    welcome_message = """
    –í–∞—à –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    """
    # ...
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ?

1. –î–æ–±–∞–≤–∏—Ç—å –≤ `bot/states.py`:
```python
class BotStates(Enum):
    # ...
    NEW_STATE = "new_state"
```

2. –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `bot/handlers.py`:
```python
async def handle_new_state(self, update, context):
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    return BotStates.NEXT_STATE.value
```

3. –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç –≤ `main_max.py`:
```python
handlers_map = {
    # ...
    BotStates.NEW_STATE.value: self.bot_handlers.handle_new_state
}
```

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**: –ö–æ–º–∞–Ω–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  
**MAX Bot**: @t38_hakaton_bot  
**–í–µ—Ä—Å–∏—è**: 2.0.0  
**–î–∞—Ç–∞**: –ù–æ—è–±—Ä—å 2025

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞ –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–æ–º–æ—â–∏ –ª—é–¥—è–º —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.
